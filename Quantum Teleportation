from qiskit import *
from qiskit_aer import Aer
from qiskit.visualization import plot_histogram
%matplotlib inline
circuit = QuantumCircuit(3,3)
circuit.x(0)
circuit.barrier()
circuit.h(1)
circuit.cx(1,2)
circuit.barrier()
circuit.draw(output='mpl')circuit.measure([0,1],[0,1])
circuit.barrier()
circuit.draw(output='mpl')
circuit.cx(0,1)
circuit.h(0)
circuit.barrier()
circuit.draw(output='mpl')
circuit.cx(1,2)
circuit.cz(0,2)
circuit.measure([2],[2])
circuit.draw(output='mpl')
compiled_circuit = transpile(circuit, simulator)
simulator = Aer.get_backend('qasm_simulator')
job = simulator.run(compiled_circuit, shots=1024)
result = job.result()
counts = result.get_counts(compiled_circuit)
print("Counts:", counts)
plot_histogram(counts)

